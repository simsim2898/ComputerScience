- 소프트웨어 기반 임계구역 해결 기법
    - 두 개의 프로세스가 공유 데이터를 사용할 때 교대로 임계구역에 접근할 수 있도록 보장.
    - 현대 CPU에서 완벽하게 동작하지 않을 수도 있으나, 이론적인 개념을 이해하는 데 유용

- 알고리즘 개념
    - `flag[i]`: 프로세스 P_i가 임계구역에 들어갈 준비가 되었음을 표시.
    - `turn`: 누가 임계구역에 들어갈 차례인지 지정.

- Peterson 알고리즘 코드
``` c
int turn;
boolean flag[2];

while (true) {
    flag[i] = true;
    turn = j;
    while (flag[j] && turn == j); // 상대 프로세스가 실행 중이면 대기

    // 임계구역 실행
    critical section

    flag[i] = false;  // 임계구역 종료
}
```

프로세스 `P_i`가 **flag[i] = true**로 설정 → **임계구역 실행 의사 표시**.
- `turn = j`로 설정 → 다른 프로세스가 실행할 기회 부여.
- 반복문(while loop)에서 다른 프로세스가 실행 중이라면 대기.
- 실행이 끝나면 `flag[i] = false`로 설정하여 임계구역에서 나옴.

Peterson 해결안이 만족하는 조건
1. 상호 배제(Mutual Exclusion) 보장
	- `turn` 변수를 통해 한 프로세스만 임계구역에 들어갈 수 있도록 함.
2. 진행(Progress) 보장
	- 두 프로세스가 동시에 들어가려 할 경우 한쪽만 선택됨.
3. 한정된 대기(Bounded Waiting) 보장
	- `turn` 변수를 사용하여 특정 프로세스가 **무한정 대기하는 상황을 방지**.

Peterson의 해결안의 한계
- 현대 CPU에서는 `load/store` 최적화 기법으로 인해 **Peterson 알고리즘이 예상대로 동작하지 않을 수 있음**.
- 단순한 환경에서는 작동하지만, **멀티코어 시스템에서는 하드웨어 동기화 기법을 사용하는 것이 더 적절**.