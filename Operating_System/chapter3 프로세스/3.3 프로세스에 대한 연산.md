- 프로세스들은 병행 실행될 수 있다.
- 반드시 동적으로 생성되고 제거 되어야 한다.
- 운영체제는 프로세스 생성 및 종료를 위한 기법을 제공해야 한다.
## 3.3.1 프로세스 생성
운영체제에서는 새로은 프로세스를 생성할 수 있으며, 이는 프로세스를 가질 수 있으며, 트리 형태로 구조화 된다.
- 프로세스 트리: 각 프로세스는 자신이 생성한 자식 프로세스를 가질 수 있으며, 트리 형태로 구조화된다.
- 프로세스 식별자(PID): 운영체제는 각 프로세스를 고유한 PID로 구분한다.
- 부모-자식 관계: 새로운 프로세스는 부모 프로세스로부터 자원을 상속받을 수 있다.
![[3.3.1.1.png]]
- Linux 시스템의 초기 프로세스
    - systemd: PID 1을 가지며, 모든 사용자 프로세스의 부모 역할을 수행한다.
    - logind: 시스템 로그인 관리.
    - sshd: SSH 접속 관리.
- 새로운 프로세스 생성 방식
    1. 부모 프로세스가 계속 실행됨
    2. 부모 프로세스가 자식의 실행 종료를 기다림
- 주소 공간에서의 가능성
    1. 자식 프로세스는 부모 프로세스의 복사본
    2. 자식 프로세스는 새로운 프로그램을 실행
- Linux에서 프로세스 생성
    - `fork()` 시스템 콜 : 부모 프로세스를 복제하여 새로운 프로세스를 생성.
    - `exec()` 시스템 콜 : 새로운 프로그램을 실행하여 메모리 공간을 교체.
    - `wait()` 시스템 콜 : 부모가 자식 프로세스의 종료를 기다림.
- Windows에서의 프로세스 생성
    - `CreateProcess()` API 사용.
    - 부모 프로세스와 주소 공간을 공유하지 않고, 새 프로그램을 직접 실행.
![[3.3.1.2.png]]
## 3.3.2 프로세스 종료
프로세스는 실행이 끝나면 운영체제에 자신을 제거하도록 요청하며 종료된다.
- 정상 종료 : `exit()` 시스템 콜을 통해 자발적으로 종료.
- 강제 종료 : `kill` 명령어나 `TerminateProcess()` API를 통해 외부에서 종료.
- 부모 프로세스의 역할
    - 부모는 자식 프로세스가 종료될 때까지 `wait()` 시스템 콜을 사용해 기다릴 수 있다.
    - 자식이 먼저 종료되고 부모가 이를 회수하지 않으면 좀비 프로세스(zombie process) 상태가 된다.
    - 부모가 먼저 종료되면, 고아 프로세스(orphan process)가 되며, Linux에서는 `init` 프로세스가 이를 관리.
### 3.3.2.1 Android의 프로세스 계층
프로세스 계층
- 전경 프로세스 : 화면에 보이는 프로세스.
- 가시적 프로세스 : 백그라운드에서 실행되지만 사용자가 인식할 수 있음.
- 서비스 프로세스 : 음악 스트리밍 등의 작업 수행.
- 백그라운드 프로세스 : 사용자가 직접 인식하지 않는 프로세스.
- 빈 프로세스: 현재 실행 중인 작업이 없는 프로세스.
프로세스 관리
- 시스템 자원이 부족하면 빈 프로세스 → 백그라운드 프로세스 → 서비스 프로세스 순서로 종료.