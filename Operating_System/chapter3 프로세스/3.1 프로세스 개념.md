운영체제에서 CPU 활동을 정의하는 문제는 여전히 중요하다. 초기 컴퓨터는 작업(job)을 실행하는 일괄처리 시스템이었고, 이후 시분할 시스템이 등장하며 태스크(task) 개념이 추가되었다. 현대 시스템에서는 여러 프로그램을 동시에 실행할 수 있으며, 다중 태스킹이 불가능한 장치에서도 운영체제는 내부 활동을 지원한다. 이러한 모든 활동을 포괄하는 개념으로 프로세스가 사용된다.
프로세스가 현대적인 용어로 선호 되지만, 운영체제 이론이 작업 중심으로 발전했기 때문에 작업(job)이라는 용어도 여전히 쓰인다. 특히 작업 스케줄링(job scheduling)과 같은 개념은 여전히 중요한 의미를 갖는다. 따라서 상황에 따라 작업과 프로세스라는 용어를 적절히 활용해야 한다.

## 3.1.1 프로세스
운영체제에서 CPU 활동을 정의하는 문제는 여전히 중요하다. 초기 컴퓨터는 작업(job)을 실행하는 일괄처리 시스템이었고, 이후 시분할 시스템이 등장하며 태스크(task) 개념이 추가되었다. 현대 시스템에서는 여러 프로그램을 동시에 실행할 수 있으며, 다중 태스킹이 불가능한 장치에서도 운영체제는 내부 활동을 지원한다. 이러한 모든 활동을 포괄하는 개념으로 프로세스가 사용된다.
![[3.1.1.1.png]]
프로세스는 실행 중인 프로그램으로, 프로그램 카운터 값과 프로세서 레지스터의 내용으로 상태를 나타낸다. 운영체제는 스택과 힙이 겹치지 않도록 관리해야 한다.
- 텍스트 섹션 -- 실행 코드
- 데이터 섹션 -- 전역 변수
- 힙 섹션 -- 프로그램 실행 중에 동적으로 할당되는 메모리
- 스텍 섹션 -- 함수를 호출할 때 임시 데이터 저장장소(예: 함수 매개변수, 복귀 주소 및 지역 변수)
프로그램은 수동적인 개체(파일 형태)이며, 실행 시 프로세스로 변환된다. 실행 파일을 실행하는 방식으로 아이콘 더블 클릭 또는 명령어 입력이 있다. 동일한 프로그램도 여러 프로세스로 실행될 수 있으며, 각각 독립적인 실행 흐름을 가진다. 예를 들어, 사용자가 여러 개의 웹 브라우저를 실행하면 각각의 인스턴스는 별도 프로세스로 동작한다.

## 3.1.2 프로세스 상태
프로세스는 실행되면서 그 상태가 변한다. 상태는 부분적으로 그 프로세스의 현재의 활동에 따라서 정의 돤다. 
상태 종류(프로세스는 다음 상태중 하나를 있게 된다.)
- 새로운 : 프로세스가 생성 중이다.
- 실행 : 명령어들이 실행되고 있다.
- 대기 : 프로세스가 어떤 이벤트(입출력 완료 또는 신호의 수신 같은)가 일어나기를 기다린다.
- 준비 : 프로세스가 처리기에 할당되기를 기다린다.
- 종료 : 프로세스의 실행이 종료되었다.
상태 종류의 이름은 임의적이고 운영체마다 변한다. 하지만 나타내는 상태들은 모든 시스템에서 찾아볼 수 있다. 
어느 한순간에 한 처리기 고어에서는 오직 하나의 프로세스만이 실행된다는 것을 인식하는 것이 중요하다.
아래 그림은 이들 상태에 해당하는 상태 다이어그램이다.
![[3.1.2.1.png]]

## 3.1.3 프로세스 제어 블록
각 프로세스는 운영체제에서 프로세스 제어 블록('테스크 제어 블록'이라고도 불린다.)에 의해 표현된다.
아래 그림은 PCB를 나타낸다.
![[3.1.3.1.png|400]]
프로세스 제어 블록은 특정 프로세스와 연관된 여러 정보를 수록하며, 다음과 같은것을 포함한다.
- 프로세스 상태 : 상태는 새로운, 준비 ,실행, 대기, 또는 정지 상태 등이다.
- 프로그램 카운터 : 프로그램 카운터는 이 프로세스가 다음에 실행할 명령어의 주소를 가리킨다.
- CPU 레지스터들 : CPU 레지스터는 컴퓨터의 구조에 따라 다양한 수와 유형을 가진다. 레지스터에는 누산기(accumulator), 인덱스 레지스터, 스택 레지스터, 범용(general-purpose) 레지스터들과 상태 코드(condition code) 정보가 포함된다.프로그램 카운터와 함께 이 상태 정보는, 나중에 프로세스가 다시 스케줄 될 때 계속 올바르게 실행되도록 하기 위해서 인터럽트 발생 시 저장되어야 한다.
- CPU-스케줄링 정보 : 이 정보는 프로세스 우선순위, 스케줄 큐에 대한 포인터와 다른 스케줄 매개변수를 포함한다.(5장에서 프로세스 스케줄링을 설명한다.).
- 메모리 관리 정보: 이 정보는 운영체제에 의해 사용되는 메모리 시스템에 따라 기준 레지스터와 한계 레지스터의 값, 운영체제가 사용하는 메모리 시스템에 따라 페이지 테이블 또는 세그먼트 테이블 등과 같은 정보를 포함한다.
- 회계 정보 : 이 정보는 CPU 사용 시간과 경과된 실시간, 시간 제한, 계정 번호, 잡 또는 프로세스 번호 등을 포함한다.
- 입출력 상태 정보 : 이 정보는 이 프로세스에 할당된 입출력 장치들과 열린 파일의 목록 등을 포함한다.
프로세스 제어 블록은 약간의 회계 데이터와 프로세스를 시작시키거나 다시 시작시키는 데 필요한 모든 데이터를 위한 저장소의 역할을 한다.

## 3.1.4 스레드
기존의 프로세스 모델은 단일 실행 스레드를 기반으로 하며, 하나의 프로세스가 한 번에 한 가지 작업만 수행할 수 있다. 하지만 현대 운영체제는 다중 스레드를 지원하여 하나의 프로세스가 여러 작업을 동시에 실행할 수 있도록 확장되었다.
특히 다중 처리기 시스템에서 다중 스레드는 성능 향상에 기여한다. 예를 들어, 워드 프로세서에서는 한 스레드가 사용자 입력을 처리하는 동안 다른 스레드가 철자 검사를 수행할 수 있다.
이를 위해 PCB(프로세스 제어 블록)는 각 스레드 정보를 포함하도록 확장되며, 운영체제 전반에 걸쳐 여러 수정이 필요하다.